<script type="text/javascript" src="lib/d3.min.js" charset="utf-8"></script>
<svg id="chart"></svg>

<script>

var NSW = "NSW";
var QLD = "QLD";

var width = 400;
var height = 400;

var years = [1,2,3,4,5];

var data = years.map(function(){ return [Math.random(),Math.random()]; });   // generate bogus data
var nsw = data.map(function(d) { return d[0];}); // extract new south wales data
var qld = data.map(function(d) { return d[1];}); // extract queensland data

var chart = d3.select("#chart").attr("width", width).attr("height", height).append("g");
var x = d3.scale.linear().domain([0, years.length]).range([0, width]);
var y = d3.scale.linear().domain([0, d3.max(data, function(d){ return Math.max(d[0], d[1]); })]).range([height,0]);
var area = d3.svg.area().x(function(d,i) { return x(i); }).y0(height).y1(function(d, i) { return y(d); });

console.log([nsw,qld])

chart
.selectAll("path.area")
.data([nsw,qld])          // !!! here i can pass both arrays in.
.enter()
.append("path")
.attr("fill", "rgba(0,0,0,0.5)")
.attr("class", function(d,i) { return [NSW,QLD][i]; })
.attr("d", area);

chart.on("click", function() {

  data = years.map(function(){return [ Math.random(),Math.random()];}); // switch in some new random data

  var nsw = data.map(function(d) { return d[0];})
  var qld = data.map(function(d) { return d[1];})

  y.domain([0, d3.max(data, function(d){ return Math.max(d[0], d[1]); })]).range([height, 0]);

  var svg = chart.transition();

  /*
  svg
  .selectAll("path")
  .data([nsw,qld])        // !!! here i can't
  .duration(750)
  .attr("d", function(d) { return area(d); });
  */

  chart.data([nsw]);      // !!! here i can pass both arrays in.

  svg.select("path.NSW")
  .duration(750)
  .attr("d", function(d) {return area(d); });

  chart.data([qld]);      // !!! here i can pass both arrays in.

  svg.select("path.QLD")
  .duration(750)
  .attr("d", function(d) { return area(d); });
});




</script>